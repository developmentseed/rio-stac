{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"rio-stac","text":"<p> Create STAC Items from raster datasets. </p> <p> </p> <p>Documentation: developmentseed.github.io/rio-stac/</p> <p>Source Code: developmentseed/rio-stac</p> <p><code>rio-stac</code> is a simple rasterio plugin for creating valid STAC items from a raster dataset. The library is built on top of pystac to make sure we follow the STAC specification.</p>"},{"location":"#installation","title":"Installation","text":"<pre><code>$ pip install pip -U\n\n# From Pypi\n$ pip install rio-stac\n\n# Or from source\n$ pip install git+http://github.com/developmentseed/rio-stac\n</code></pre>"},{"location":"#example","title":"Example","text":"<pre><code>// rio stac tests/fixtures/dataset_cog.tif | jq\n{\n  \"type\": \"Feature\",\n  \"stac_version\": \"1.0.0\",\n  \"id\": \"dataset_cog.tif\",\n  \"properties\": {\n    \"proj:epsg\": 32621,\n    \"proj:geometry\": {\n      \"type\": \"Polygon\",\n      \"coordinates\": [\n        [\n          [\n            373185.0,\n            8019284.949381611\n          ],\n          [\n            639014.9492102272,\n            8019284.949381611\n          ],\n          [\n            639014.9492102272,\n            8286015.0\n          ],\n          [\n            373185.0,\n            8286015.0\n          ],\n          [\n            373185.0,\n            8019284.949381611\n          ]\n        ]\n      ]\n    },\n    \"proj:bbox\": [\n      373185.0,\n      8019284.949381611,\n      639014.9492102272,\n      8286015.0\n    ],\n    \"proj:shape\": [\n      2667,\n      2658\n    ],\n    \"proj:transform\": [\n      100.01126757344893,\n      0.0,\n      373185.0,\n      0.0,\n      -100.01126757344893,\n      8286015.0,\n      0.0,\n      0.0,\n      1.0\n    ],\n    \"proj:projjson\": {\n      \"$schema\": \"https://proj.org/schemas/v0.4/projjson.schema.json\",\n      \"type\": \"ProjectedCRS\",\n      \"name\": \"WGS 84 / UTM zone 21N\",\n      \"base_crs\": {\n        \"name\": \"WGS 84\",\n        \"datum\": {\n          \"type\": \"GeodeticReferenceFrame\",\n          \"name\": \"World Geodetic System 1984\",\n          \"ellipsoid\": {\n            \"name\": \"WGS 84\",\n            \"semi_major_axis\": 6378137,\n            \"inverse_flattening\": 298.257223563\n          }\n        },\n        \"coordinate_system\": {\n          \"subtype\": \"ellipsoidal\",\n          \"axis\": [\n            {\n              \"name\": \"Geodetic latitude\",\n              \"abbreviation\": \"Lat\",\n              \"direction\": \"north\",\n              \"unit\": \"degree\"\n            },\n            {\n              \"name\": \"Geodetic longitude\",\n              \"abbreviation\": \"Lon\",\n              \"direction\": \"east\",\n              \"unit\": \"degree\"\n            }\n          ]\n        },\n        \"id\": {\n          \"authority\": \"EPSG\",\n          \"code\": 4326\n        }\n      },\n      \"conversion\": {\n        \"name\": \"UTM zone 21N\",\n        \"method\": {\n          \"name\": \"Transverse Mercator\",\n          \"id\": {\n            \"authority\": \"EPSG\",\n            \"code\": 9807\n          }\n        },\n        \"parameters\": [\n          {\n            \"name\": \"Latitude of natural origin\",\n            \"value\": 0,\n            \"unit\": \"degree\",\n            \"id\": {\n              \"authority\": \"EPSG\",\n              \"code\": 8801\n            }\n          },\n          {\n            \"name\": \"Longitude of natural origin\",\n            \"value\": -57,\n            \"unit\": \"degree\",\n            \"id\": {\n              \"authority\": \"EPSG\",\n              \"code\": 8802\n            }\n          },\n          {\n            \"name\": \"Scale factor at natural origin\",\n            \"value\": 0.9996,\n            \"unit\": \"unity\",\n            \"id\": {\n              \"authority\": \"EPSG\",\n              \"code\": 8805\n            }\n          },\n          {\n            \"name\": \"False easting\",\n            \"value\": 500000,\n            \"unit\": \"metre\",\n            \"id\": {\n              \"authority\": \"EPSG\",\n              \"code\": 8806\n            }\n          },\n          {\n            \"name\": \"False northing\",\n            \"value\": 0,\n            \"unit\": \"metre\",\n            \"id\": {\n              \"authority\": \"EPSG\",\n              \"code\": 8807\n            }\n          }\n        ]\n      },\n      \"coordinate_system\": {\n        \"subtype\": \"Cartesian\",\n        \"axis\": [\n          {\n            \"name\": \"Easting\",\n            \"abbreviation\": \"\",\n            \"direction\": \"east\",\n            \"unit\": \"metre\"\n          },\n          {\n            \"name\": \"Northing\",\n            \"abbreviation\": \"\",\n            \"direction\": \"north\",\n            \"unit\": \"metre\"\n          }\n        ]\n      },\n      \"id\": {\n        \"authority\": \"EPSG\",\n        \"code\": 32621\n      }\n    },\n    \"proj:wkt2\": \"PROJCS[\\\"WGS 84 / UTM zone 21N\\\",GEOGCS[\\\"WGS 84\\\",DATUM[\\\"WGS_1984\\\",SPHEROID[\\\"WGS 84\\\",6378137,298.257223563,AUTHORITY[\\\"EPSG\\\",\\\"7030\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"6326\\\"]],PRIMEM[\\\"Greenwich\\\",0,AUTHORITY[\\\"EPSG\\\",\\\"8901\\\"]],UNIT[\\\"degree\\\",0.0174532925199433,AUTHORITY[\\\"EPSG\\\",\\\"9122\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"4326\\\"]],PROJECTION[\\\"Transverse_Mercator\\\"],PARAMETER[\\\"latitude_of_origin\\\",0],PARAMETER[\\\"central_meridian\\\",-57],PARAMETER[\\\"scale_factor\\\",0.9996],PARAMETER[\\\"false_easting\\\",500000],PARAMETER[\\\"false_northing\\\",0],UNIT[\\\"metre\\\",1,AUTHORITY[\\\"EPSG\\\",\\\"9001\\\"]],AXIS[\\\"Easting\\\",EAST],AXIS[\\\"Northing\\\",NORTH],AUTHORITY[\\\"EPSG\\\",\\\"32621\\\"]]\",\n    \"datetime\": \"2023-12-08T09:30:38.153261Z\"\n  },\n  \"geometry\": {\n    \"type\": \"Polygon\",\n    \"coordinates\": [\n      [\n        [\n          -60.72634617297825,\n          72.23689137791739\n        ],\n        [\n          -52.91627525610924,\n          72.22979795551834\n        ],\n        [\n          -52.301598718454485,\n          74.61378388950398\n        ],\n        [\n          -61.28762442711404,\n          74.62204314252978\n        ],\n        [\n          -60.72634617297825,\n          72.23689137791739\n        ]\n      ]\n    ]\n  },\n  \"links\": [],\n  \"assets\": {\n    \"asset\": {\n      \"href\": \"/Users/vincentsarago/Dev/DevSeed/rio-stac/tests/fixtures/dataset_cog.tif\",\n      \"raster:bands\": [\n        {\n          \"data_type\": \"uint16\",\n          \"scale\": 1.0,\n          \"offset\": 0.0,\n          \"sampling\": \"point\",\n          \"statistics\": {\n            \"mean\": 2107.524612053134,\n            \"minimum\": 1,\n            \"maximum\": 7872,\n            \"stddev\": 2271.0065537857326,\n            \"valid_percent\": 0.00009564764936336924\n          },\n          \"histogram\": {\n            \"count\": 11,\n            \"min\": 1.0,\n            \"max\": 7872.0,\n            \"buckets\": [\n              503460,\n              0,\n              0,\n              161792,\n              283094,\n              0,\n              0,\n              0,\n              87727,\n              9431\n            ]\n          }\n        }\n      ],\n      \"eo:bands\": [\n        {\n          \"name\": \"b1\",\n          \"description\": \"gray\"\n        }\n      ],\n      \"roles\": []\n    }\n  },\n  \"bbox\": [\n    -61.28762442711404,\n    72.22979795551834,\n    -52.301598718454485,\n    74.62204314252978\n  ],\n  \"stac_extensions\": [\n    \"https://stac-extensions.github.io/projection/v1.1.0/schema.json\",\n    \"https://stac-extensions.github.io/raster/v1.1.0/schema.json\",\n    \"https://stac-extensions.github.io/eo/v1.1.0/schema.json\"\n  ]\n}\n</code></pre> <p>See developmentseed.org/rio-stac/intro/ for more.</p>"},{"location":"#contribution-development","title":"Contribution &amp; Development","text":"<p>See CONTRIBUTING.md</p>"},{"location":"#authors","title":"Authors","text":"<p>See contributors</p>"},{"location":"#changes","title":"Changes","text":"<p>See CHANGES.md.</p>"},{"location":"#license","title":"License","text":"<p>See LICENSE</p>"},{"location":"contributing/","title":"Contributing","text":"<p>Issues and pull requests are more than welcome.</p> <p>dev install</p> <pre><code>$ git clone https://github.com/developmentseed/rio-stac.git\n$ cd rio-stac\n$ pip install -e .[\"test\",\"dev\"]\n</code></pre> <p>You can then run the tests with the following command:</p> <pre><code>python -m pytest --cov rio_stac --cov-report term-missing\n</code></pre> <p>pre-commit</p> <p>This repo is set to use <code>pre-commit</code> to run isort, flake8, pydocstring, black (\"uncompromising Python code formatter\") and mypy when committing new code.</p> <pre><code>$ pre-commit install\n</code></pre> <p>Docs</p> <pre><code>$ git clone https://github.com/developmentseed/rio-stac.git\n$ cd rio-stac\n$ pip install -e .[\"docs\"]\n</code></pre> <p>To manually deploy docs (note you should never need to do this because Github Actions deploys automatically for new commits.):</p> <pre><code>$ mkdocs gh-deploy -f docs/mkdocs.yml\n</code></pre>"},{"location":"intro/","title":"User Guide","text":"<p><code>rio-stac</code> can be used either from the command line as a rasterio plugin (<code>rio stac</code>) or from your own script.</p> <p>For more information about the <code>Item</code> specification, please see github.com/radiantearth/stac-spec/blob/master/item-spec/item-spec.md</p>"},{"location":"intro/#cli","title":"CLI","text":"<pre><code>$ rio stac --help\n\nUsage: rio stac [OPTIONS] INPUT\n\n  Rasterio STAC plugin: Create a STAC Item for raster dataset.\n\nOptions:\n  -d, --datetime TEXT               The date and time of the assets, in UTC (e.g 2020-01-01, 2020-01-01T01:01:01).\n-e, --extension TEXT                STAC extensions the Item implements (default is set to [\"proj\"]). Multiple allowed (e.g. `-e extensionUrl1 -e extensionUrl2`).\n  -c, --collection TEXT             The Collection ID that this item belongs to.\n  --collection-url TEXT             Link to the STAC Collection.\n  -p, --property NAME=VALUE         Additional property to add (e.g `-p myprops=1`). Multiple allowed.\n  --id TEXT                         Item id.\n  -n, --asset-name TEXT             Asset name.\n  --asset-href TEXT                 Overwrite asset href.\n  --asset-mediatype [COG|GEOJSON|GEOPACKAGE|GEOTIFF|HDF|HDF5|JPEG|JPEG2000|JSON|PNG|TEXT|TIFF|XML|auto] Asset media-type.\n  --with-proj / --without-proj      Add the 'projection' extension and properties (default to True).\n  --with-raster / --without-raster  Add the 'raster' extension and properties (default to True).\n  --with-eo / --without-eo          Add the 'eo' extension and properties (default to True).\n  --max-raster-size INTEGER         Limit array size from which to get the raster statistics (default to 1024).\n  --densify-geom INTEGER            Densifies the number of points on each edges of the polygon geometry to account for non-linear transformation.\n  --geom-precision INTEGER          Round geometry coordinates to this number of decimal. By default, coordinates will not be rounded\n  -o, --output PATH                 Output file name\n  --config NAME=VALUE               GDAL configuration options.\n  --help                            Show this message and exit.\n</code></pre>"},{"location":"intro/#how-to","title":"How To","text":"<p>The CLI can be run as is, just by passing a <code>source</code> raster data. You can also use options to customize the output STAC item:</p> <ul> <li> <p>datetime (-d, --datetime)</p> <p>By design, all STAC items must have a datetime in their properties. By default the CLI will set the time to the actual UTC Time or use <code>ACQUISITIONDATETIME</code> defined in dataset metadata (see GDAL Raster data model). The CLI will accept any format supported by <code>dateparser</code>.</p> <p>You can also define <code>start_datetime</code> and <code>end_datetime</code> by using <code>--datetime {start}/{end}</code> notation.</p> <p>Note: <code>GDAL Raster data model</code> metadata are stored in an external file so you may want to set <code>GDAL_DISABLE_READDIR_ON_OPEN=FALSE</code> environment variable to allow GDAL to fetch the sidecar files.</p> </li> <li> <p>extension (-e, --extension)</p> <p>STAC Item can have extensions which indicates that the item has additional properies (e.g proj information). This option can be set multiple times.</p> <p>You can pass the extension option multiple times: <code>-e extension1 -e extension2</code>.</p> </li> <li> <p>projection extension (--with-proj / --without-proj)</p> <p>By default the <code>projection</code> extension and properties will be added to the item.</p> <p>link: stac-extensions/projection</p> <pre><code>{\n    \"proj:epsg\": 3857,\n    \"proj:geometry\": {\"type\": \"Polygon\", \"coordinates\": [...]},\n    \"proj:bbox\": [...],\n    \"proj:shape\": [8192, 8192],\n    \"proj:transform\": [...],\n    \"datetime\": \"2021-03-19T02:27:33.266356Z\"\n}\n</code></pre> <p>You can pass <code>--without-proj</code> to disable it.</p> </li> <li> <p>raster extension (--with-raster / --without-raster)</p> <p>By default the <code>raster</code> extension and properties will be added to the item.</p> <p>link: stac-extensions/raster</p> <pre><code>\"raster:bands\": [\n  {\n    \"sampling\": \"point\",\n    \"data_type\": \"uint16\",\n    \"scale\": 1,\n    \"offset\": 0,\n    \"statistics\": {\n      \"mean\": 2107.524612053134,\n      \"minimum\": 1,\n      \"maximum\": 7872,\n      \"stdev\": 2271.0065537857326,\n      \"valid_percent\": 9.564764936336924e-05\n    },\n    \"histogram\": {\n      \"count\": 11,\n      \"min\": 1,\n      \"max\": 7872,\n      \"buckets\": [503460, 0, 0, 161792, 283094, 0, 0, 0, 87727, 9431]\n    }\n  }\n]\n</code></pre> <p>You can pass <code>--without-raster</code> to disable it.</p> </li> <li> <p>eo extension (--with-eo / --without-eo)</p> <p>By default the <code>eo</code> extension and properties will be added to the item. The <code>eo:cloud_cover</code> value will be fetched from GDAL Raster data model metadata.</p> <p>link: stac-extensions/eo</p> <p>Cloud Cover property <pre><code>\"eo:cloud_cover\": 2\n</code></pre></p> <p>Asset's bands <pre><code>\"eo:bands\": [\n  {\n    \"name\": \"b1\",\n    \"description\": \"red\"\n  },\n  {\n    \"name\": \"b2\"\n    \"description\": \"green\"\n  },\n  {\n    \"name\": \"b3\"\n    \"description\": \"blue\"\n  }\n],\n</code></pre></p> <p>You can pass <code>--without-eo</code> to disable it.</p> <p>Note: <code>GDAL Raster data model</code> metadata are stored in an external file so you may want to set <code>GDAL_DISABLE_READDIR_ON_OPEN=FALSE</code> environment variable to allow GDAL to fetch the sidecar files.</p> </li> <li> <p>collection (-c, --collection)</p> <p>Add a <code>collection</code> attribute to the item.</p> </li> <li> <p>collection link (--collection-url)</p> <p>When adding a collection to the Item, the specification state that a Link must also be set. By default the <code>href</code> will be set with the collection id. You can specify a custom URL using this option.</p> </li> <li> <p>properties (-p, --property)</p> <p>You can add multiple properties to the item using <code>-p {KEY}={VALUE}</code> notation. This option can be set multiple times.</p> </li> <li> <p>id (--id)</p> <p>STAC Item id to set. Default to the source basename.</p> </li> <li> <p>asset name (-n, --asset-name)</p> <p>Name to use in the assets section. Default to <code>asset</code>.</p> <pre><code>{\n    \"asset\": {\n        \"href\": \"raster.tif\"\n    }\n}\n</code></pre> </li> <li> <p>asset href (--asset-href)</p> <p>Overwrite the HREF in the <code>asset</code> object. Default to the source path.</p> </li> <li> <p>media type (--asset-mediatype)</p> <p>Set the asset <code>mediatype</code>.</p> <p>If set to <code>auto</code>, <code>rio-stac</code> will try to find the mediatype.</p> </li> <li> <p>geometry density (--densify-geom)</p> <p>When creating the GeoJSON geometry from the input dataset we usually take the <code>bounding box</code> of the data and construct a simple Polygon which then get reprojected to EPSG:4326. Sadly the world is neither flat and square, so doing a transformation using bounding box can lead to non-ideal result. To get better results and account for nonlinear transformation you can add <code>points</code> on each edge of the polygon using <code>--densify-geom</code> option.</p> </li> </ul>"},{"location":"intro/#example","title":"Example","text":"<pre><code>// rio stac tests/fixtures/dataset_cog.tif | jq\n{\n  \"type\": \"Feature\",\n  \"stac_version\": \"1.0.0\",\n  \"id\": \"dataset_cog.tif\",\n  \"properties\": {\n    \"proj:epsg\": 32621,\n    \"proj:geometry\": {\n      \"type\": \"Polygon\",\n      \"coordinates\": [\n        [\n          [\n            373185.0,\n            8019284.949381611\n          ],\n          [\n            639014.9492102272,\n            8019284.949381611\n          ],\n          [\n            639014.9492102272,\n            8286015.0\n          ],\n          [\n            373185.0,\n            8286015.0\n          ],\n          [\n            373185.0,\n            8019284.949381611\n          ]\n        ]\n      ]\n    },\n    \"proj:bbox\": [\n      373185.0,\n      8019284.949381611,\n      639014.9492102272,\n      8286015.0\n    ],\n    \"proj:shape\": [\n      2667,\n      2658\n    ],\n    \"proj:transform\": [\n      100.01126757344893,\n      0.0,\n      373185.0,\n      0.0,\n      -100.01126757344893,\n      8286015.0,\n      0.0,\n      0.0,\n      1.0\n    ],\n    \"proj:projjson\": {\n      \"$schema\": \"https://proj.org/schemas/v0.4/projjson.schema.json\",\n      \"type\": \"ProjectedCRS\",\n      \"name\": \"WGS 84 / UTM zone 21N\",\n      \"base_crs\": {\n        \"name\": \"WGS 84\",\n        \"datum\": {\n          \"type\": \"GeodeticReferenceFrame\",\n          \"name\": \"World Geodetic System 1984\",\n          \"ellipsoid\": {\n            \"name\": \"WGS 84\",\n            \"semi_major_axis\": 6378137,\n            \"inverse_flattening\": 298.257223563\n          }\n        },\n        \"coordinate_system\": {\n          \"subtype\": \"ellipsoidal\",\n          \"axis\": [\n            {\n              \"name\": \"Geodetic latitude\",\n              \"abbreviation\": \"Lat\",\n              \"direction\": \"north\",\n              \"unit\": \"degree\"\n            },\n            {\n              \"name\": \"Geodetic longitude\",\n              \"abbreviation\": \"Lon\",\n              \"direction\": \"east\",\n              \"unit\": \"degree\"\n            }\n          ]\n        },\n        \"id\": {\n          \"authority\": \"EPSG\",\n          \"code\": 4326\n        }\n      },\n      \"conversion\": {\n        \"name\": \"UTM zone 21N\",\n        \"method\": {\n          \"name\": \"Transverse Mercator\",\n          \"id\": {\n            \"authority\": \"EPSG\",\n            \"code\": 9807\n          }\n        },\n        \"parameters\": [\n          {\n            \"name\": \"Latitude of natural origin\",\n            \"value\": 0,\n            \"unit\": \"degree\",\n            \"id\": {\n              \"authority\": \"EPSG\",\n              \"code\": 8801\n            }\n          },\n          {\n            \"name\": \"Longitude of natural origin\",\n            \"value\": -57,\n            \"unit\": \"degree\",\n            \"id\": {\n              \"authority\": \"EPSG\",\n              \"code\": 8802\n            }\n          },\n          {\n            \"name\": \"Scale factor at natural origin\",\n            \"value\": 0.9996,\n            \"unit\": \"unity\",\n            \"id\": {\n              \"authority\": \"EPSG\",\n              \"code\": 8805\n            }\n          },\n          {\n            \"name\": \"False easting\",\n            \"value\": 500000,\n            \"unit\": \"metre\",\n            \"id\": {\n              \"authority\": \"EPSG\",\n              \"code\": 8806\n            }\n          },\n          {\n            \"name\": \"False northing\",\n            \"value\": 0,\n            \"unit\": \"metre\",\n            \"id\": {\n              \"authority\": \"EPSG\",\n              \"code\": 8807\n            }\n          }\n        ]\n      },\n      \"coordinate_system\": {\n        \"subtype\": \"Cartesian\",\n        \"axis\": [\n          {\n            \"name\": \"Easting\",\n            \"abbreviation\": \"\",\n            \"direction\": \"east\",\n            \"unit\": \"metre\"\n          },\n          {\n            \"name\": \"Northing\",\n            \"abbreviation\": \"\",\n            \"direction\": \"north\",\n            \"unit\": \"metre\"\n          }\n        ]\n      },\n      \"id\": {\n        \"authority\": \"EPSG\",\n        \"code\": 32621\n      }\n    },\n    \"proj:wkt2\": \"PROJCS[\\\"WGS 84 / UTM zone 21N\\\",GEOGCS[\\\"WGS 84\\\",DATUM[\\\"WGS_1984\\\",SPHEROID[\\\"WGS 84\\\",6378137,298.257223563,AUTHORITY[\\\"EPSG\\\",\\\"7030\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"6326\\\"]],PRIMEM[\\\"Greenwich\\\",0,AUTHORITY[\\\"EPSG\\\",\\\"8901\\\"]],UNIT[\\\"degree\\\",0.0174532925199433,AUTHORITY[\\\"EPSG\\\",\\\"9122\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"4326\\\"]],PROJECTION[\\\"Transverse_Mercator\\\"],PARAMETER[\\\"latitude_of_origin\\\",0],PARAMETER[\\\"central_meridian\\\",-57],PARAMETER[\\\"scale_factor\\\",0.9996],PARAMETER[\\\"false_easting\\\",500000],PARAMETER[\\\"false_northing\\\",0],UNIT[\\\"metre\\\",1,AUTHORITY[\\\"EPSG\\\",\\\"9001\\\"]],AXIS[\\\"Easting\\\",EAST],AXIS[\\\"Northing\\\",NORTH],AUTHORITY[\\\"EPSG\\\",\\\"32621\\\"]]\",\n    \"datetime\": \"2023-12-08T09:30:38.153261Z\"\n  },\n  \"geometry\": {\n    \"type\": \"Polygon\",\n    \"coordinates\": [\n      [\n        [\n          -60.72634617297825,\n          72.23689137791739\n        ],\n        [\n          -52.91627525610924,\n          72.22979795551834\n        ],\n        [\n          -52.301598718454485,\n          74.61378388950398\n        ],\n        [\n          -61.28762442711404,\n          74.62204314252978\n        ],\n        [\n          -60.72634617297825,\n          72.23689137791739\n        ]\n      ]\n    ]\n  },\n  \"links\": [],\n  \"assets\": {\n    \"asset\": {\n      \"href\": \"/Users/vincentsarago/Dev/DevSeed/rio-stac/tests/fixtures/dataset_cog.tif\",\n      \"raster:bands\": [\n        {\n          \"data_type\": \"uint16\",\n          \"scale\": 1.0,\n          \"offset\": 0.0,\n          \"sampling\": \"point\",\n          \"statistics\": {\n            \"mean\": 2107.524612053134,\n            \"minimum\": 1,\n            \"maximum\": 7872,\n            \"stddev\": 2271.0065537857326,\n            \"valid_percent\": 0.00009564764936336924\n          },\n          \"histogram\": {\n            \"count\": 11,\n            \"min\": 1.0,\n            \"max\": 7872.0,\n            \"buckets\": [\n              503460,\n              0,\n              0,\n              161792,\n              283094,\n              0,\n              0,\n              0,\n              87727,\n              9431\n            ]\n          }\n        }\n      ],\n      \"eo:bands\": [\n        {\n          \"name\": \"b1\",\n          \"description\": \"gray\"\n        }\n      ],\n      \"roles\": []\n    }\n  },\n  \"bbox\": [\n    -61.28762442711404,\n    72.22979795551834,\n    -52.301598718454485,\n    74.62204314252978\n  ],\n  \"stac_extensions\": [\n    \"https://stac-extensions.github.io/projection/v1.1.0/schema.json\",\n    \"https://stac-extensions.github.io/raster/v1.1.0/schema.json\",\n    \"https://stac-extensions.github.io/eo/v1.1.0/schema.json\"\n  ]\n}\n</code></pre> <pre><code>// rio stac S-2_20200422_COG.tif \\\n//   -d 2020-04-22 \\\n//   -c myprivatecollection \\\n//   -p comments:name=myfile \\\n//   --id COG \\\n//   -n mosaic \\\n//   --asset-href https://somewhere.overtherainbow.io/S-2_20200422_COG.tif \\\n//   --asset-mediatype COG | jq\n// {\n  \"type\": \"Feature\",\n  \"stac_version\": \"1.0.0\",\n  \"id\": \"COG\",\n  \"properties\": {\n    \"comments:name\": \"myfile\",\n    \"proj:epsg\": 32632,\n    \"proj:geometry\": {\n      \"type\": \"Polygon\",\n      \"coordinates\": [\n        [\n          [\n            342765.0,\n            5682885.0\n          ],\n          [\n            674215.0,\n            5682885.0\n          ],\n          [\n            674215.0,\n            5971585.0\n          ],\n          [\n            342765.0,\n            5971585.0\n          ],\n          [\n            342765.0,\n            5682885.0\n          ]\n        ]\n      ]\n    },\n    \"proj:bbox\": [\n      342765.0,\n      5682885.0,\n      674215.0,\n      5971585.0\n    ],\n    \"proj:shape\": [\n      28870,\n      33145\n    ],\n    \"proj:transform\": [\n      10.0,\n      0.0,\n      342765.0,\n      0.0,\n      -10.0,\n      5971585.0,\n      0.0,\n      0.0,\n      1.0\n    ],\n    \"proj:projjson\": {\n      \"$schema\": \"https://proj.org/schemas/v0.4/projjson.schema.json\",\n      \"type\": \"ProjectedCRS\",\n      \"name\": \"WGS 84 / UTM zone 32N\",\n      \"base_crs\": {\n        \"name\": \"WGS 84\",\n        \"datum\": {\n          \"type\": \"GeodeticReferenceFrame\",\n          \"name\": \"World Geodetic System 1984\",\n          \"ellipsoid\": {\n            \"name\": \"WGS 84\",\n            \"semi_major_axis\": 6378137,\n            \"inverse_flattening\": 298.257223563\n          }\n        },\n        \"coordinate_system\": {\n          \"subtype\": \"ellipsoidal\",\n          \"axis\": [\n            {\n              \"name\": \"Geodetic latitude\",\n              \"abbreviation\": \"Lat\",\n              \"direction\": \"north\",\n              \"unit\": \"degree\"\n            },\n            {\n              \"name\": \"Geodetic longitude\",\n              \"abbreviation\": \"Lon\",\n              \"direction\": \"east\",\n              \"unit\": \"degree\"\n            }\n          ]\n        },\n        \"id\": {\n          \"authority\": \"EPSG\",\n          \"code\": 4326\n        }\n      },\n      \"conversion\": {\n        \"name\": \"UTM zone 32N\",\n        \"method\": {\n          \"name\": \"Transverse Mercator\",\n          \"id\": {\n            \"authority\": \"EPSG\",\n            \"code\": 9807\n          }\n        },\n        \"parameters\": [\n          {\n            \"name\": \"Latitude of natural origin\",\n            \"value\": 0,\n            \"unit\": \"degree\",\n            \"id\": {\n              \"authority\": \"EPSG\",\n              \"code\": 8801\n            }\n          },\n          {\n            \"name\": \"Longitude of natural origin\",\n            \"value\": 9,\n            \"unit\": \"degree\",\n            \"id\": {\n              \"authority\": \"EPSG\",\n              \"code\": 8802\n            }\n          },\n          {\n            \"name\": \"Scale factor at natural origin\",\n            \"value\": 0.9996,\n            \"unit\": \"unity\",\n            \"id\": {\n              \"authority\": \"EPSG\",\n              \"code\": 8805\n            }\n          },\n          {\n            \"name\": \"False easting\",\n            \"value\": 500000,\n            \"unit\": \"metre\",\n            \"id\": {\n              \"authority\": \"EPSG\",\n              \"code\": 8806\n            }\n          },\n          {\n            \"name\": \"False northing\",\n            \"value\": 0,\n            \"unit\": \"metre\",\n            \"id\": {\n              \"authority\": \"EPSG\",\n              \"code\": 8807\n            }\n          }\n        ]\n      },\n      \"coordinate_system\": {\n        \"subtype\": \"Cartesian\",\n        \"axis\": [\n          {\n            \"name\": \"Easting\",\n            \"abbreviation\": \"\",\n            \"direction\": \"east\",\n            \"unit\": \"metre\"\n          },\n          {\n            \"name\": \"Northing\",\n            \"abbreviation\": \"\",\n            \"direction\": \"north\",\n            \"unit\": \"metre\"\n          }\n        ]\n      },\n      \"id\": {\n        \"authority\": \"EPSG\",\n        \"code\": 32632\n      }\n    },\n    \"proj:wkt2\": \"PROJCS[\\\"WGS 84 / UTM zone 32N\\\",GEOGCS[\\\"WGS 84\\\",DATUM[\\\"WGS_1984\\\",SPHEROID[\\\"WGS 84\\\",6378137,298.257223563,AUTHORITY[\\\"EPSG\\\",\\\"7030\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"6326\\\"]],PRIMEM[\\\"Greenwich\\\",0,AUTHORITY[\\\"EPSG\\\",\\\"8901\\\"]],UNIT[\\\"degree\\\",0.0174532925199433,AUTHORITY[\\\"EPSG\\\",\\\"9122\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"4326\\\"]],PROJECTION[\\\"Transverse_Mercator\\\"],PARAMETER[\\\"latitude_of_origin\\\",0],PARAMETER[\\\"central_meridian\\\",9],PARAMETER[\\\"scale_factor\\\",0.9996],PARAMETER[\\\"false_easting\\\",500000],PARAMETER[\\\"false_northing\\\",0],UNIT[\\\"metre\\\",1,AUTHORITY[\\\"EPSG\\\",\\\"9001\\\"]],AXIS[\\\"Easting\\\",EAST],AXIS[\\\"Northing\\\",NORTH],AUTHORITY[\\\"EPSG\\\",\\\"32632\\\"]]\",\n    \"datetime\": \"2020-04-22T00:00:00Z\"\n  },\n  \"geometry\": {\n    \"type\": \"Polygon\",\n    \"coordinates\": [\n      [\n        [\n          6.745709371926977,\n          51.27558086786243\n        ],\n        [\n          11.497498156319669,\n          51.270642883468916\n        ],\n        [\n          11.64938680867944,\n          53.86346627759\n        ],\n        [\n          6.608576517072109,\n          53.868886713141336\n        ],\n        [\n          6.745709371926977,\n          51.27558086786243\n        ]\n      ]\n    ]\n  },\n  \"links\": [\n    {\n      \"rel\": \"collection\",\n      \"href\": \"myprivatecollection\",\n      \"type\": \"application/json\"\n    }\n  ],\n  \"assets\": {\n    \"mosaic\": {\n      \"href\": \"https://somewhere.overtherainbow.io/S-2_20200422_COG.tif\",\n      \"type\": \"image/tiff; application=geotiff; profile=cloud-optimized\",\n      \"raster:bands\": [\n        {\n          \"data_type\": \"uint8\",\n          \"scale\": 1.0,\n          \"offset\": 0.0,\n          \"sampling\": \"area\",\n          \"statistics\": {\n            \"mean\": 70.14680057905686,\n            \"minimum\": 0,\n            \"maximum\": 255,\n            \"stddev\": 36.47197403839734,\n            \"valid_percent\": 49.83785997057175\n          },\n          \"histogram\": {\n            \"count\": 11,\n            \"min\": 0.0,\n            \"max\": 255.0,\n            \"buckets\": [\n              21135,\n              129816,\n              152194,\n              76363,\n              39423,\n              20046,\n              10272,\n              3285,\n              1115,\n              1574\n            ]\n          }\n        },\n        {\n          \"data_type\": \"uint8\",\n          \"scale\": 1.0,\n          \"offset\": 0.0,\n          \"sampling\": \"area\",\n          \"statistics\": {\n            \"mean\": 70.72913714816694,\n            \"minimum\": 0,\n            \"maximum\": 255,\n            \"stddev\": 34.031434334640124,\n            \"valid_percent\": 49.83785997057175\n          },\n          \"histogram\": {\n            \"count\": 11,\n            \"min\": 0.0,\n            \"max\": 255.0,\n            \"buckets\": [\n              14829,\n              116732,\n              171933,\n              81023,\n              38736,\n              18977,\n              8362,\n              2259,\n              918,\n              1454\n            ]\n          }\n        },\n        {\n          \"data_type\": \"uint8\",\n          \"scale\": 1.0,\n          \"offset\": 0.0,\n          \"sampling\": \"area\",\n          \"statistics\": {\n            \"mean\": 47.96346845392258,\n            \"minimum\": 0,\n            \"maximum\": 255,\n            \"stddev\": 32.447819767110225,\n            \"valid_percent\": 49.83785997057175\n          },\n          \"histogram\": {\n            \"count\": 11,\n            \"min\": 0.0,\n            \"max\": 255.0,\n            \"buckets\": [\n              110478,\n              177673,\n              93767,\n              41101,\n              20804,\n              7117,\n              1939,\n              856,\n              829,\n              659\n            ]\n          }\n        }\n      ],\n      \"eo:bands\": [\n        {\n          \"name\": \"b1\",\n          \"description\": \"red\"\n        },\n        {\n          \"name\": \"b2\",\n          \"description\": \"green\"\n        },\n        {\n          \"name\": \"b3\",\n          \"description\": \"blue\"\n        }\n      ],\n      \"roles\": []\n    }\n  },\n  \"bbox\": [\n    6.608576517072109,\n    51.270642883468916,\n    11.64938680867944,\n    53.868886713141336\n  ],\n  \"stac_extensions\": [\n    \"https://stac-extensions.github.io/projection/v1.1.0/schema.json\",\n    \"https://stac-extensions.github.io/raster/v1.1.0/schema.json\",\n    \"https://stac-extensions.github.io/eo/v1.1.0/schema.json\"\n  ],\n  \"collection\": \"myprivatecollection\"\n}\n</code></pre>"},{"location":"intro/#api","title":"API","text":"<p>see: api</p>"},{"location":"release-notes/","title":"Release Notes","text":""},{"location":"release-notes/#0120-2025-09-17","title":"0.12.0 (2025-09-17)","text":"<ul> <li>remove python 3.9 support</li> </ul>"},{"location":"release-notes/#0112-2025-09-09","title":"0.11.2 (2025-09-09)","text":"<ul> <li>fix statistics for Raster with Nan/Inf values and missing Nodata</li> <li>add <code>histogram_bins</code> and <code>histogram_range</code> options for histogram configuration</li> <li>add fallback for histogram calculation when data is homogenous</li> </ul>"},{"location":"release-notes/#0111-2025-08-28","title":"0.11.1 (2025-08-28)","text":"<ul> <li>avoid serialization issue for statistics</li> </ul>"},{"location":"release-notes/#0110-2025-04-25","title":"0.11.0 (2025-04-25)","text":"<ul> <li>Use timezone-aware objects to represent datetimes in UTC (avoid future deprecation)</li> <li>remove python 3.8 support</li> <li>add python 3.13 support</li> </ul>"},{"location":"release-notes/#0101-2024-11-21","title":"0.10.1 (2024-11-21)","text":"<ul> <li>exclude rasterio version <code>1.4.2</code> from requirements</li> <li>catch date parsing issue and raise warning</li> </ul>"},{"location":"release-notes/#0100-2024-10-29","title":"0.10.0 (2024-10-29)","text":"<ul> <li>handle <code>TIFFTAG_DATETIME</code> metadata for STAC datetime</li> <li>only set <code>proj:epsg</code> if present else use <code>proj:wkt2</code> or <code>proj:projjson</code></li> <li>add <code>geographic_crs</code> parameter to <code>create_stac_item</code> function to enable non-earth raster dataset</li> </ul>"},{"location":"release-notes/#090-2023-12-08","title":"0.9.0 (2023-12-08)","text":"<ul> <li>add <code>wkt2</code> representation of the dataset CRS if available (author @emileten, developmentseed/rio-stac!55)</li> </ul>"},{"location":"release-notes/#081-2023-09-27","title":"0.8.1 (2023-09-27)","text":"<ul> <li>update <code>tests</code> requirements</li> </ul>"},{"location":"release-notes/#080-2023-05-26","title":"0.8.0 (2023-05-26)","text":"<ul> <li>update <code>proj</code> extension to <code>v1.1.0</code></li> <li>update <code>eo</code> extension to <code>v1.1.0</code></li> </ul>"},{"location":"release-notes/#071-2023-05-03","title":"0.7.1 (2023-05-03)","text":"<ul> <li>fix bad precision default (author @hrodmn, developmentseed/rio-stac!50)</li> </ul>"},{"location":"release-notes/#070-2023-04-05","title":"0.7.0 (2023-04-05)","text":"<ul> <li>add <code>geom_densify_pts</code> option allow adding points on Polygon edges to account for non-linear transformation</li> <li>add <code>geom_precision</code> option to control the decimal precision of the output geometry</li> <li>rename <code>rio_stac.stac.get_metadata</code> to <code>rio_stac.stac.get_dataset_geom</code></li> </ul>"},{"location":"release-notes/#061-2022-10-26","title":"0.6.1 (2022-10-26)","text":"<ul> <li>add python 3.11 support</li> </ul>"},{"location":"release-notes/#060-2022-10-20","title":"0.6.0 (2022-10-20)","text":"<ul> <li>remove python 3.7 support (developmentseed/rio-stac!42)</li> <li>add <code>projjson</code> representation of the dataset CRS if available (author @clausmichele, developmentseed/rio-stac!41)</li> </ul>"},{"location":"release-notes/#050-2022-09-05","title":"0.5.0 (2022-09-05)","text":"<ul> <li>add python 3.10 support (developmentseed/rio-stac!37)</li> <li>get dataset datetime from GDAL Raster Data Model breaking</li> <li>add <code>eo</code> extension support (<code>eo:cloud_cover</code>, <code>eo:bands</code>) breaking</li> <li>use <code>auto</code> by default for <code>asset_media_type</code> breaking</li> </ul>"},{"location":"release-notes/#042-2022-06-09","title":"0.4.2 (2022-06-09)","text":"<ul> <li>fix bad <code>nan/inf/-inf</code> nodata test</li> </ul>"},{"location":"release-notes/#041-2022-04-26","title":"0.4.1 (2022-04-26)","text":"<ul> <li>handle <code>nan/inf</code> values to avoid <code>numpy.histogram</code> issue (developmentseed/rio-stac!32)</li> </ul>"},{"location":"release-notes/#040-2022-03-29","title":"0.4.0 (2022-03-29)","text":"<ul> <li>Switch to <code>pyproject.toml</code> to simplify setup.</li> </ul> <p>bug fixes</p> <ul> <li>Split geometry to MultiPolygon for dataset crossing the dataline separation (developmentseed/rio-stac!30)</li> <li>Use correct coordinates order for Polygon (ref developmentseed/geojson-pydantic!49)</li> </ul>"},{"location":"release-notes/#032-2021-10-29","title":"0.3.2 (2021-10-29)","text":"<p>bug fixes * Use the raster_max_size and asset_roles arguments in create_stac_item (author @alexgleith, developmentseed/rio-stac!23) * Fix json serialisation by converting numpy float32 to float (author @alexgleith, developmentseed/rio-stac!24)</p>"},{"location":"release-notes/#031-2021-10-07","title":"0.3.1 (2021-10-07)","text":"<ul> <li>update <code>pystac</code> requirement to allow up to <code>&lt;2.0</code> (author @alexgleith, developmentseed/rio-stac!20)</li> </ul>"},{"location":"release-notes/#030-2021-09-10","title":"0.3.0 (2021-09-10)","text":"<ul> <li>Move <code>raster:bands</code> information in assets (not in properties).</li> <li>update pystac version</li> <li>fix typo for <code>stddev</code> raster information</li> <li>drop support of python 3.6 (pystac 1.0.0 dropped support of python 3.6)</li> </ul>"},{"location":"release-notes/#021-2021-08-24","title":"0.2.1 (2021-08-24)","text":"<ul> <li>use WarpedVRT for data with internal GCPS</li> </ul>"},{"location":"release-notes/#020-2021-07-06","title":"0.2.0 (2021-07-06)","text":"<ul> <li>fix validation issue with Collection and extension for STAC 1.0.0</li> <li>add collection_url option to customize the collection link</li> <li>add <code>raster</code> extension option (developmentseed/rio-stac!12)</li> <li>set <code>proj:epsg</code> value to <code>None</code> when no <code>CRS</code> is found in the dataset.</li> </ul> <p>breaking changes</p> <ul> <li>update pystac version to <code>&gt;=1.0.0rc1</code></li> <li>use full URL for extension</li> <li>add Collection Link when adding a collection</li> <li>add with_proj (--with-proj/--without-proj in the CLI) in <code>create_stac_item</code> to add the extension and proj properties in the stac items (will do the same for the raster extension)</li> </ul>"},{"location":"release-notes/#011-2021-03-19","title":"0.1.1 (2021-03-19)","text":"<ul> <li>fix CLI asset-href default</li> </ul>"},{"location":"release-notes/#010-2021-03-19","title":"0.1.0 (2021-03-19)","text":"<p>Initial release.</p> <ul> <li>Design API</li> <li>add CLI</li> <li>add tests</li> <li>write docs</li> </ul>"},{"location":"api/rio_stac/stac/","title":"rio_stac.stac","text":""},{"location":"api/rio_stac/stac/#rio_stac.stac","title":"rio_stac.stac","text":"<p>Create STAC Item from a rasterio dataset.</p>"},{"location":"api/rio_stac/stac/#rio_stac.stac._get_stats","title":"_get_stats","text":"<pre><code>_get_stats(arr: MaskedArray, bins: Union[int, str, Sequence] = 10, range: Optional[Tuple[float, float]] = None) -&gt; Dict\n</code></pre> <p>Calculate array statistics.</p>"},{"location":"api/rio_stac/stac/#rio_stac.stac.bbox_to_geom","title":"bbox_to_geom","text":"<pre><code>bbox_to_geom(bbox: Tuple[float, float, float, float]) -&gt; Dict\n</code></pre> <p>Return a geojson geometry from a bbox.</p>"},{"location":"api/rio_stac/stac/#rio_stac.stac.create_stac_item","title":"create_stac_item","text":"<pre><code>create_stac_item(source: Union[str, DatasetReader, DatasetWriter, WarpedVRT, MemoryFile], input_datetime: Optional[datetime] = None, extensions: Optional[List[str]] = None, collection: Optional[str] = None, collection_url: Optional[str] = None, properties: Optional[Dict] = None, id: Optional[str] = None, assets: Optional[Dict[str, Asset]] = None, asset_name: str = 'asset', asset_roles: Optional[List[str]] = None, asset_media_type: Optional[Union[str, MediaType]] = 'auto', asset_href: Optional[str] = None, with_proj: bool = False, with_raster: bool = False, with_eo: bool = False, raster_max_size: int = 1024, geom_densify_pts: int = 0, geom_precision: int = -1, geographic_crs: CRS = EPSG_4326, histogram_bins: Union[int, str, Sequence] = 10, histogram_range: Optional[Tuple[float, float]] = None) -&gt; Item\n</code></pre> <p>Create a Stac Item.</p> <p>Parameters:</p> <ul> <li> <code>source</code>               (<code>str or opened rasterio dataset</code>)           \u2013            <p>input path or rasterio dataset.</p> </li> <li> <code>input_datetime</code>               (<code>datetime</code>, default:                   <code>None</code> )           \u2013            <p>datetime associated with the item.</p> </li> <li> <code>extensions</code>               (<code>list of str</code>, default:                   <code>None</code> )           \u2013            <p>input list of extensions to use in the item.</p> </li> <li> <code>collection</code>               (<code>str</code>, default:                   <code>None</code> )           \u2013            <p>name of collection the item belongs to.</p> </li> <li> <code>collection_url</code>               (<code>str</code>, default:                   <code>None</code> )           \u2013            <p>Link to the STAC Collection.</p> </li> <li> <code>properties</code>               (<code>dict</code>, default:                   <code>None</code> )           \u2013            <p>additional properties to add in the item.</p> </li> <li> <code>id</code>               (<code>str</code>, default:                   <code>None</code> )           \u2013            <p>id to assign to the item (default to the source basename).</p> </li> <li> <code>assets</code>               (<code>dict</code>, default:                   <code>None</code> )           \u2013            <p>Assets to set in the item. If set we won't create one from the source.</p> </li> <li> <code>asset_name</code>               (<code>str</code>, default:                   <code>'asset'</code> )           \u2013            <p>asset name in the Assets object.</p> </li> <li> <code>asset_roles</code>               (<code>list of str</code>, default:                   <code>None</code> )           \u2013            <p>list of str | list of asset's roles.</p> </li> <li> <code>asset_media_type</code>               (<code>str or MediaType</code>, default:                   <code>'auto'</code> )           \u2013            <p>asset's media type.</p> </li> <li> <code>asset_href</code>               (<code>str</code>, default:                   <code>None</code> )           \u2013            <p>asset's URI (default to input path).</p> </li> <li> <code>with_proj</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Add the <code>projection</code> extension and properties (default to False).</p> </li> <li> <code>with_raster</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Add the <code>raster</code> extension and properties (default to False).</p> </li> <li> <code>with_eo</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Add the <code>eo</code> extension and properties (default to False).</p> </li> <li> <code>raster_max_size</code>               (<code>int</code>, default:                   <code>1024</code> )           \u2013            <p>Limit array size from which to get the raster statistics. Defaults to 1024.</p> </li> <li> <code>geom_densify_pts</code>               (<code>int</code>, default:                   <code>0</code> )           \u2013            <p>Number of points to add to each edge to account for nonlinear edges transformation (Note: GDAL uses 21).</p> </li> <li> <code>geom_precision</code>               (<code>int</code>, default:                   <code>-1</code> )           \u2013            <p>If &gt;= 0, geometry coordinates will be rounded to this number of decimal.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Item</code>           \u2013            <p>pystac.Item: valid STAC Item.</p> </li> </ul>"},{"location":"api/rio_stac/stac/#rio_stac.stac.get_dataset_geom","title":"get_dataset_geom","text":"<pre><code>get_dataset_geom(src_dst: Union[DatasetReader, DatasetWriter, WarpedVRT, MemoryFile], densify_pts: int = 0, precision: int = -1, geographic_crs: CRS = EPSG_4326) -&gt; Dict\n</code></pre> <p>Get Raster Footprint.</p>"},{"location":"api/rio_stac/stac/#rio_stac.stac.get_eobands_info","title":"get_eobands_info","text":"<pre><code>get_eobands_info(src_dst: Union[DatasetReader, DatasetWriter, WarpedVRT, MemoryFile]) -&gt; List\n</code></pre> <p>Get eo:bands metadata.</p> <p>see: stac-extensions/eo#item-properties-or-asset-fields</p>"},{"location":"api/rio_stac/stac/#rio_stac.stac.get_media_type","title":"get_media_type","text":"<pre><code>get_media_type(src_dst: Union[DatasetReader, DatasetWriter, WarpedVRT, MemoryFile]) -&gt; Optional[MediaType]\n</code></pre> <p>Find MediaType for a raster dataset.</p>"},{"location":"api/rio_stac/stac/#rio_stac.stac.get_projection_info","title":"get_projection_info","text":"<pre><code>get_projection_info(src_dst: Union[DatasetReader, DatasetWriter, WarpedVRT, MemoryFile]) -&gt; Dict\n</code></pre> <p>Get projection metadata.</p> <p>The STAC projection extension allows for three different ways to describe the coordinate reference system associated with a raster : - EPSG code - WKT2 - PROJJSON</p> <p>All are optional, and they can be provided altogether as well. Therefore, as long as one can be obtained from the data, we add it to the returned dictionary.</p> <p>see: stac-extensions/projection</p>"},{"location":"api/rio_stac/stac/#rio_stac.stac.get_raster_info","title":"get_raster_info","text":"<pre><code>get_raster_info(src_dst: Union[DatasetReader, DatasetWriter, WarpedVRT, MemoryFile], max_size: int = 1024, histogram_bins: Union[int, str, Sequence] = 10, histogram_range: Optional[Tuple[float, float]] = None) -&gt; List[Dict]\n</code></pre> <p>Get raster metadata.</p> <p>see: stac-extensions/raster#raster-band-object</p>"},{"location":"examples/Multi_assets_item/","title":"Create a STAC Items from multiple Assets","text":"<p>The Goal of this notebook is to show how to use the rio-stac API to create a STAC Item from multiple assets.</p> In\u00a0[2]: Copied! <pre>import datetime\n\nimport pystac\nfrom pystac.utils import str_to_datetime\n\nimport rasterio\n\n# Import extension version\nfrom rio_stac.stac import PROJECTION_EXT_VERSION, RASTER_EXT_VERSION, EO_EXT_VERSION\n\n# Import rio_stac methods\nfrom rio_stac.stac import (\n    get_dataset_geom,\n    get_projection_info,\n    get_raster_info,\n    get_eobands_info,\n    bbox_to_geom,\n)\n</pre> import datetime  import pystac from pystac.utils import str_to_datetime  import rasterio  # Import extension version from rio_stac.stac import PROJECTION_EXT_VERSION, RASTER_EXT_VERSION, EO_EXT_VERSION  # Import rio_stac methods from rio_stac.stac import (     get_dataset_geom,     get_projection_info,     get_raster_info,     get_eobands_info,     bbox_to_geom, ) In\u00a0[3]: Copied! <pre>assets = [\n    {\"name\": \"B01\", \"path\": \"./data/B01.tif\", \"href\": None, \"role\": None},\n    {\"name\": \"B02\", \"path\": \"./data/B02.tif\", \"href\": None, \"role\": None},\n    {\"name\": \"B03\", \"path\": \"./data/B03.tif\", \"href\": None, \"role\": None},\n    {\"name\": \"B04\", \"path\": \"./data/B04.tif\", \"href\": None, \"role\": None},\n    {\"name\": \"B05\", \"path\": \"./data/B05.tif\", \"href\": None, \"role\": None},\n]\n\nmedia_type = pystac.MediaType.COG  # we could also use rio_stac.stac.get_media_type\n\n# additional properties to add in the item\nproperties = {}\n\n# datetime associated with the item\ninput_datetime = None\n\n# STAC Item Id\nid = \"my_stac_item\"\n\n# name of collection the item belongs to\ncollection = None\ncollection_url = None\n\nextensions =[\n    f\"https://stac-extensions.github.io/projection/{PROJECTION_EXT_VERSION}/schema.json\",\n    f\"https://stac-extensions.github.io/raster/{RASTER_EXT_VERSION}/schema.json\",\n    f\"https://stac-extensions.github.io/eo/{EO_EXT_VERSION}/schema.json\",\n]\n</pre> assets = [     {\"name\": \"B01\", \"path\": \"./data/B01.tif\", \"href\": None, \"role\": None},     {\"name\": \"B02\", \"path\": \"./data/B02.tif\", \"href\": None, \"role\": None},     {\"name\": \"B03\", \"path\": \"./data/B03.tif\", \"href\": None, \"role\": None},     {\"name\": \"B04\", \"path\": \"./data/B04.tif\", \"href\": None, \"role\": None},     {\"name\": \"B05\", \"path\": \"./data/B05.tif\", \"href\": None, \"role\": None}, ]  media_type = pystac.MediaType.COG  # we could also use rio_stac.stac.get_media_type  # additional properties to add in the item properties = {}  # datetime associated with the item input_datetime = None  # STAC Item Id id = \"my_stac_item\"  # name of collection the item belongs to collection = None collection_url = None  extensions =[     f\"https://stac-extensions.github.io/projection/{PROJECTION_EXT_VERSION}/schema.json\",     f\"https://stac-extensions.github.io/raster/{RASTER_EXT_VERSION}/schema.json\",     f\"https://stac-extensions.github.io/eo/{EO_EXT_VERSION}/schema.json\", ] In\u00a0[4]: Copied! <pre>bboxes = []\n\npystac_assets = []\n\nimg_datetimes = []\n\nfor asset in assets:\n\n    with rasterio.open(asset[\"path\"]) as src_dst:\n\n        # Get BBOX and Footprint\n        dataset_geom = get_dataset_geom(src_dst, densify_pts=0, precision=-1)\n        bboxes.append(dataset_geom[\"bbox\"])\n\n        if \"start_datetime\" not in properties and \"end_datetime\" not in properties:\n            # Try to get datetime from https://gdal.org/user/raster_data_model.html#imagery-domain-remote-sensing\n            dst_date = src_dst.get_tag_item(\"ACQUISITIONDATETIME\", \"IMAGERY\")\n            dst_datetime = str_to_datetime(dst_date) if dst_date else None\n            if dst_datetime:\n                img_datetimes.append(dst_datetime)\n\n        proj_info = {\n            f\"proj:{name}\": value\n            for name, value in get_projection_info(src_dst).items()\n        }\n\n        raster_info = {\n            \"raster:bands\": get_raster_info(src_dst, max_size=1024)\n        }\n\n        eo_info = {}\n        eo_info = {\"eo:bands\": get_eobands_info(src_dst)}\n        cloudcover = src_dst.get_tag_item(\"CLOUDCOVER\", \"IMAGERY\")\n        if cloudcover is not None:\n            properties.update({\"eo:cloud_cover\": int(cloudcover)})\n\n        pystac_assets.append(\n            (\n                asset[\"name\"],\n                pystac.Asset(\n                    href=asset[\"href\"] or src_dst.name,\n                    media_type=media_type,\n                    extra_fields={\n                        **proj_info,\n                        **raster_info,\n                        **eo_info\n                    },\n                    roles=asset[\"role\"],\n                ),\n            )\n        )\n\nif img_datetimes and not input_datetime:\n    input_datetime = img_datetimes[0]\n\ninput_datetime = input_datetime or datetime.datetime.utcnow()\n\nminx, miny, maxx, maxy = zip(*bboxes)\nbbox = [min(minx), min(miny), max(maxx), max(maxy)]\n\n# item\nitem = pystac.Item(\n    id=id,\n    geometry=bbox_to_geom(bbox),\n    bbox=bbox,\n    collection=collection,\n    stac_extensions=extensions,\n    datetime=input_datetime,\n    properties=properties,\n)\n\n# if we add a collection we MUST add a link\nif collection:\n    item.add_link(\n        pystac.Link(\n            pystac.RelType.COLLECTION,\n            collection_url or collection,\n            media_type=pystac.MediaType.JSON,\n        )\n    )\n\nfor key, asset in pystac_assets:\n    item.add_asset(key=key, asset=asset)\n\nitem.validate()\n</pre>  bboxes = []  pystac_assets = []  img_datetimes = []  for asset in assets:      with rasterio.open(asset[\"path\"]) as src_dst:          # Get BBOX and Footprint         dataset_geom = get_dataset_geom(src_dst, densify_pts=0, precision=-1)         bboxes.append(dataset_geom[\"bbox\"])          if \"start_datetime\" not in properties and \"end_datetime\" not in properties:             # Try to get datetime from https://gdal.org/user/raster_data_model.html#imagery-domain-remote-sensing             dst_date = src_dst.get_tag_item(\"ACQUISITIONDATETIME\", \"IMAGERY\")             dst_datetime = str_to_datetime(dst_date) if dst_date else None             if dst_datetime:                 img_datetimes.append(dst_datetime)          proj_info = {             f\"proj:{name}\": value             for name, value in get_projection_info(src_dst).items()         }          raster_info = {             \"raster:bands\": get_raster_info(src_dst, max_size=1024)         }          eo_info = {}         eo_info = {\"eo:bands\": get_eobands_info(src_dst)}         cloudcover = src_dst.get_tag_item(\"CLOUDCOVER\", \"IMAGERY\")         if cloudcover is not None:             properties.update({\"eo:cloud_cover\": int(cloudcover)})          pystac_assets.append(             (                 asset[\"name\"],                 pystac.Asset(                     href=asset[\"href\"] or src_dst.name,                     media_type=media_type,                     extra_fields={                         **proj_info,                         **raster_info,                         **eo_info                     },                     roles=asset[\"role\"],                 ),             )         )  if img_datetimes and not input_datetime:     input_datetime = img_datetimes[0]  input_datetime = input_datetime or datetime.datetime.utcnow()  minx, miny, maxx, maxy = zip(*bboxes) bbox = [min(minx), min(miny), max(maxx), max(maxy)]  # item item = pystac.Item(     id=id,     geometry=bbox_to_geom(bbox),     bbox=bbox,     collection=collection,     stac_extensions=extensions,     datetime=input_datetime,     properties=properties, )  # if we add a collection we MUST add a link if collection:     item.add_link(         pystac.Link(             pystac.RelType.COLLECTION,             collection_url or collection,             media_type=pystac.MediaType.JSON,         )     )  for key, asset in pystac_assets:     item.add_asset(key=key, asset=asset)  item.validate() Out[4]: <pre>['https://schemas.stacspec.org/v1.0.0/item-spec/json-schema/item.json',\n 'https://stac-extensions.github.io/projection/v1.1.0/schema.json',\n 'https://stac-extensions.github.io/raster/v1.1.0/schema.json',\n 'https://stac-extensions.github.io/eo/v1.1.0/schema.json']</pre> In\u00a0[5]: Copied! <pre>import json\n\nprint(json.dumps(item.to_dict(), indent=4))\n</pre> import json  print(json.dumps(item.to_dict(), indent=4)) <pre>{\n    \"type\": \"Feature\",\n    \"stac_version\": \"1.0.0\",\n    \"id\": \"my_stac_item\",\n    \"properties\": {\n        \"datetime\": \"2023-12-08T09:55:37.520499Z\"\n    },\n    \"geometry\": {\n        \"type\": \"Polygon\",\n        \"coordinates\": [\n            [\n                [\n                    -11.979244865430262,\n                    24.296321392464336\n                ],\n                [\n                    -10.874546803397616,\n                    24.296321392464336\n                ],\n                [\n                    -10.874546803397616,\n                    25.304623891542274\n                ],\n                [\n                    -11.979244865430262,\n                    25.304623891542274\n                ],\n                [\n                    -11.979244865430262,\n                    24.296321392464336\n                ]\n            ]\n        ]\n    },\n    \"links\": [],\n    \"assets\": {\n        \"B01\": {\n            \"href\": \"./data/B01.tif\",\n            \"type\": \"image/tiff; application=geotiff; profile=cloud-optimized\",\n            \"proj:epsg\": 32629,\n            \"proj:geometry\": {\n                \"type\": \"Polygon\",\n                \"coordinates\": [\n                    [\n                        [\n                            199980.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2690220.0\n                        ]\n                    ]\n                ]\n            },\n            \"proj:bbox\": [\n                199980.0,\n                2690220.0,\n                309780.0,\n                2800020.0\n            ],\n            \"proj:shape\": [\n                549,\n                549\n            ],\n            \"proj:transform\": [\n                200.0,\n                0.0,\n                199980.0,\n                0.0,\n                -200.0,\n                2800020.0,\n                0.0,\n                0.0,\n                1.0\n            ],\n            \"proj:projjson\": {\n                \"$schema\": \"https://proj.org/schemas/v0.4/projjson.schema.json\",\n                \"type\": \"ProjectedCRS\",\n                \"name\": \"WGS 84 / UTM zone 29N\",\n                \"base_crs\": {\n                    \"name\": \"WGS 84\",\n                    \"datum\": {\n                        \"type\": \"GeodeticReferenceFrame\",\n                        \"name\": \"World Geodetic System 1984\",\n                        \"ellipsoid\": {\n                            \"name\": \"WGS 84\",\n                            \"semi_major_axis\": 6378137,\n                            \"inverse_flattening\": 298.257223563\n                        }\n                    },\n                    \"coordinate_system\": {\n                        \"subtype\": \"ellipsoidal\",\n                        \"axis\": [\n                            {\n                                \"name\": \"Geodetic latitude\",\n                                \"abbreviation\": \"Lat\",\n                                \"direction\": \"north\",\n                                \"unit\": \"degree\"\n                            },\n                            {\n                                \"name\": \"Geodetic longitude\",\n                                \"abbreviation\": \"Lon\",\n                                \"direction\": \"east\",\n                                \"unit\": \"degree\"\n                            }\n                        ]\n                    },\n                    \"id\": {\n                        \"authority\": \"EPSG\",\n                        \"code\": 4326\n                    }\n                },\n                \"conversion\": {\n                    \"name\": \"UTM zone 29N\",\n                    \"method\": {\n                        \"name\": \"Transverse Mercator\",\n                        \"id\": {\n                            \"authority\": \"EPSG\",\n                            \"code\": 9807\n                        }\n                    },\n                    \"parameters\": [\n                        {\n                            \"name\": \"Latitude of natural origin\",\n                            \"value\": 0,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8801\n                            }\n                        },\n                        {\n                            \"name\": \"Longitude of natural origin\",\n                            \"value\": -9,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8802\n                            }\n                        },\n                        {\n                            \"name\": \"Scale factor at natural origin\",\n                            \"value\": 0.9996,\n                            \"unit\": \"unity\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8805\n                            }\n                        },\n                        {\n                            \"name\": \"False easting\",\n                            \"value\": 500000,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8806\n                            }\n                        },\n                        {\n                            \"name\": \"False northing\",\n                            \"value\": 0,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8807\n                            }\n                        }\n                    ]\n                },\n                \"coordinate_system\": {\n                    \"subtype\": \"Cartesian\",\n                    \"axis\": [\n                        {\n                            \"name\": \"Easting\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"east\",\n                            \"unit\": \"metre\"\n                        },\n                        {\n                            \"name\": \"Northing\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"north\",\n                            \"unit\": \"metre\"\n                        }\n                    ]\n                },\n                \"id\": {\n                    \"authority\": \"EPSG\",\n                    \"code\": 32629\n                }\n            },\n            \"proj:wkt2\": \"PROJCS[\\\"WGS 84 / UTM zone 29N\\\",GEOGCS[\\\"WGS 84\\\",DATUM[\\\"WGS_1984\\\",SPHEROID[\\\"WGS 84\\\",6378137,298.257223563,AUTHORITY[\\\"EPSG\\\",\\\"7030\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"6326\\\"]],PRIMEM[\\\"Greenwich\\\",0,AUTHORITY[\\\"EPSG\\\",\\\"8901\\\"]],UNIT[\\\"degree\\\",0.0174532925199433,AUTHORITY[\\\"EPSG\\\",\\\"9122\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"4326\\\"]],PROJECTION[\\\"Transverse_Mercator\\\"],PARAMETER[\\\"latitude_of_origin\\\",0],PARAMETER[\\\"central_meridian\\\",-9],PARAMETER[\\\"scale_factor\\\",0.9996],PARAMETER[\\\"false_easting\\\",500000],PARAMETER[\\\"false_northing\\\",0],UNIT[\\\"metre\\\",1,AUTHORITY[\\\"EPSG\\\",\\\"9001\\\"]],AXIS[\\\"Easting\\\",EAST],AXIS[\\\"Northing\\\",NORTH],AUTHORITY[\\\"EPSG\\\",\\\"32629\\\"]]\",\n            \"raster:bands\": [\n                {\n                    \"data_type\": \"uint16\",\n                    \"scale\": 1.0,\n                    \"offset\": 0.0,\n                    \"sampling\": \"area\",\n                    \"nodata\": 0.0,\n                    \"statistics\": {\n                        \"mean\": 4774.295702403111,\n                        \"minimum\": 1342,\n                        \"maximum\": 7725,\n                        \"stddev\": 509.38944965166854,\n                        \"valid_percent\": 100.0\n                    },\n                    \"histogram\": {\n                        \"count\": 11,\n                        \"min\": 1342.0,\n                        \"max\": 7725.0,\n                        \"buckets\": [\n                            366,\n                            1478,\n                            2385,\n                            9548,\n                            57747,\n                            182460,\n                            41982,\n                            4332,\n                            1010,\n                            93\n                        ]\n                    }\n                }\n            ],\n            \"eo:bands\": [\n                {\n                    \"name\": \"b1\",\n                    \"description\": \"gray\"\n                }\n            ]\n        },\n        \"B02\": {\n            \"href\": \"./data/B02.tif\",\n            \"type\": \"image/tiff; application=geotiff; profile=cloud-optimized\",\n            \"proj:epsg\": 32629,\n            \"proj:geometry\": {\n                \"type\": \"Polygon\",\n                \"coordinates\": [\n                    [\n                        [\n                            199980.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2690220.0\n                        ]\n                    ]\n                ]\n            },\n            \"proj:bbox\": [\n                199980.0,\n                2690220.0,\n                309780.0,\n                2800020.0\n            ],\n            \"proj:shape\": [\n                549,\n                549\n            ],\n            \"proj:transform\": [\n                200.0,\n                0.0,\n                199980.0,\n                0.0,\n                -200.0,\n                2800020.0,\n                0.0,\n                0.0,\n                1.0\n            ],\n            \"proj:projjson\": {\n                \"$schema\": \"https://proj.org/schemas/v0.4/projjson.schema.json\",\n                \"type\": \"ProjectedCRS\",\n                \"name\": \"WGS 84 / UTM zone 29N\",\n                \"base_crs\": {\n                    \"name\": \"WGS 84\",\n                    \"datum\": {\n                        \"type\": \"GeodeticReferenceFrame\",\n                        \"name\": \"World Geodetic System 1984\",\n                        \"ellipsoid\": {\n                            \"name\": \"WGS 84\",\n                            \"semi_major_axis\": 6378137,\n                            \"inverse_flattening\": 298.257223563\n                        }\n                    },\n                    \"coordinate_system\": {\n                        \"subtype\": \"ellipsoidal\",\n                        \"axis\": [\n                            {\n                                \"name\": \"Geodetic latitude\",\n                                \"abbreviation\": \"Lat\",\n                                \"direction\": \"north\",\n                                \"unit\": \"degree\"\n                            },\n                            {\n                                \"name\": \"Geodetic longitude\",\n                                \"abbreviation\": \"Lon\",\n                                \"direction\": \"east\",\n                                \"unit\": \"degree\"\n                            }\n                        ]\n                    },\n                    \"id\": {\n                        \"authority\": \"EPSG\",\n                        \"code\": 4326\n                    }\n                },\n                \"conversion\": {\n                    \"name\": \"UTM zone 29N\",\n                    \"method\": {\n                        \"name\": \"Transverse Mercator\",\n                        \"id\": {\n                            \"authority\": \"EPSG\",\n                            \"code\": 9807\n                        }\n                    },\n                    \"parameters\": [\n                        {\n                            \"name\": \"Latitude of natural origin\",\n                            \"value\": 0,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8801\n                            }\n                        },\n                        {\n                            \"name\": \"Longitude of natural origin\",\n                            \"value\": -9,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8802\n                            }\n                        },\n                        {\n                            \"name\": \"Scale factor at natural origin\",\n                            \"value\": 0.9996,\n                            \"unit\": \"unity\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8805\n                            }\n                        },\n                        {\n                            \"name\": \"False easting\",\n                            \"value\": 500000,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8806\n                            }\n                        },\n                        {\n                            \"name\": \"False northing\",\n                            \"value\": 0,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8807\n                            }\n                        }\n                    ]\n                },\n                \"coordinate_system\": {\n                    \"subtype\": \"Cartesian\",\n                    \"axis\": [\n                        {\n                            \"name\": \"Easting\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"east\",\n                            \"unit\": \"metre\"\n                        },\n                        {\n                            \"name\": \"Northing\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"north\",\n                            \"unit\": \"metre\"\n                        }\n                    ]\n                },\n                \"id\": {\n                    \"authority\": \"EPSG\",\n                    \"code\": 32629\n                }\n            },\n            \"proj:wkt2\": \"PROJCS[\\\"WGS 84 / UTM zone 29N\\\",GEOGCS[\\\"WGS 84\\\",DATUM[\\\"WGS_1984\\\",SPHEROID[\\\"WGS 84\\\",6378137,298.257223563,AUTHORITY[\\\"EPSG\\\",\\\"7030\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"6326\\\"]],PRIMEM[\\\"Greenwich\\\",0,AUTHORITY[\\\"EPSG\\\",\\\"8901\\\"]],UNIT[\\\"degree\\\",0.0174532925199433,AUTHORITY[\\\"EPSG\\\",\\\"9122\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"4326\\\"]],PROJECTION[\\\"Transverse_Mercator\\\"],PARAMETER[\\\"latitude_of_origin\\\",0],PARAMETER[\\\"central_meridian\\\",-9],PARAMETER[\\\"scale_factor\\\",0.9996],PARAMETER[\\\"false_easting\\\",500000],PARAMETER[\\\"false_northing\\\",0],UNIT[\\\"metre\\\",1,AUTHORITY[\\\"EPSG\\\",\\\"9001\\\"]],AXIS[\\\"Easting\\\",EAST],AXIS[\\\"Northing\\\",NORTH],AUTHORITY[\\\"EPSG\\\",\\\"32629\\\"]]\",\n            \"raster:bands\": [\n                {\n                    \"data_type\": \"uint16\",\n                    \"scale\": 1.0,\n                    \"offset\": 0.0,\n                    \"sampling\": \"area\",\n                    \"nodata\": 0.0,\n                    \"statistics\": {\n                        \"mean\": 3704.1896078646055,\n                        \"minimum\": 1149,\n                        \"maximum\": 8069,\n                        \"stddev\": 425.3794265417571,\n                        \"valid_percent\": 100.0\n                    },\n                    \"histogram\": {\n                        \"count\": 11,\n                        \"min\": 1149.0,\n                        \"max\": 8069.0,\n                        \"buckets\": [\n                            1193,\n                            2792,\n                            21120,\n                            196053,\n                            75547,\n                            3758,\n                            519,\n                            212,\n                            151,\n                            56\n                        ]\n                    }\n                }\n            ],\n            \"eo:bands\": [\n                {\n                    \"name\": \"b1\",\n                    \"description\": \"gray\"\n                }\n            ]\n        },\n        \"B03\": {\n            \"href\": \"./data/B03.tif\",\n            \"type\": \"image/tiff; application=geotiff; profile=cloud-optimized\",\n            \"proj:epsg\": 32629,\n            \"proj:geometry\": {\n                \"type\": \"Polygon\",\n                \"coordinates\": [\n                    [\n                        [\n                            199980.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2690220.0\n                        ]\n                    ]\n                ]\n            },\n            \"proj:bbox\": [\n                199980.0,\n                2690220.0,\n                309780.0,\n                2800020.0\n            ],\n            \"proj:shape\": [\n                549,\n                549\n            ],\n            \"proj:transform\": [\n                200.0,\n                0.0,\n                199980.0,\n                0.0,\n                -200.0,\n                2800020.0,\n                0.0,\n                0.0,\n                1.0\n            ],\n            \"proj:projjson\": {\n                \"$schema\": \"https://proj.org/schemas/v0.4/projjson.schema.json\",\n                \"type\": \"ProjectedCRS\",\n                \"name\": \"WGS 84 / UTM zone 29N\",\n                \"base_crs\": {\n                    \"name\": \"WGS 84\",\n                    \"datum\": {\n                        \"type\": \"GeodeticReferenceFrame\",\n                        \"name\": \"World Geodetic System 1984\",\n                        \"ellipsoid\": {\n                            \"name\": \"WGS 84\",\n                            \"semi_major_axis\": 6378137,\n                            \"inverse_flattening\": 298.257223563\n                        }\n                    },\n                    \"coordinate_system\": {\n                        \"subtype\": \"ellipsoidal\",\n                        \"axis\": [\n                            {\n                                \"name\": \"Geodetic latitude\",\n                                \"abbreviation\": \"Lat\",\n                                \"direction\": \"north\",\n                                \"unit\": \"degree\"\n                            },\n                            {\n                                \"name\": \"Geodetic longitude\",\n                                \"abbreviation\": \"Lon\",\n                                \"direction\": \"east\",\n                                \"unit\": \"degree\"\n                            }\n                        ]\n                    },\n                    \"id\": {\n                        \"authority\": \"EPSG\",\n                        \"code\": 4326\n                    }\n                },\n                \"conversion\": {\n                    \"name\": \"UTM zone 29N\",\n                    \"method\": {\n                        \"name\": \"Transverse Mercator\",\n                        \"id\": {\n                            \"authority\": \"EPSG\",\n                            \"code\": 9807\n                        }\n                    },\n                    \"parameters\": [\n                        {\n                            \"name\": \"Latitude of natural origin\",\n                            \"value\": 0,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8801\n                            }\n                        },\n                        {\n                            \"name\": \"Longitude of natural origin\",\n                            \"value\": -9,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8802\n                            }\n                        },\n                        {\n                            \"name\": \"Scale factor at natural origin\",\n                            \"value\": 0.9996,\n                            \"unit\": \"unity\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8805\n                            }\n                        },\n                        {\n                            \"name\": \"False easting\",\n                            \"value\": 500000,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8806\n                            }\n                        },\n                        {\n                            \"name\": \"False northing\",\n                            \"value\": 0,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8807\n                            }\n                        }\n                    ]\n                },\n                \"coordinate_system\": {\n                    \"subtype\": \"Cartesian\",\n                    \"axis\": [\n                        {\n                            \"name\": \"Easting\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"east\",\n                            \"unit\": \"metre\"\n                        },\n                        {\n                            \"name\": \"Northing\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"north\",\n                            \"unit\": \"metre\"\n                        }\n                    ]\n                },\n                \"id\": {\n                    \"authority\": \"EPSG\",\n                    \"code\": 32629\n                }\n            },\n            \"proj:wkt2\": \"PROJCS[\\\"WGS 84 / UTM zone 29N\\\",GEOGCS[\\\"WGS 84\\\",DATUM[\\\"WGS_1984\\\",SPHEROID[\\\"WGS 84\\\",6378137,298.257223563,AUTHORITY[\\\"EPSG\\\",\\\"7030\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"6326\\\"]],PRIMEM[\\\"Greenwich\\\",0,AUTHORITY[\\\"EPSG\\\",\\\"8901\\\"]],UNIT[\\\"degree\\\",0.0174532925199433,AUTHORITY[\\\"EPSG\\\",\\\"9122\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"4326\\\"]],PROJECTION[\\\"Transverse_Mercator\\\"],PARAMETER[\\\"latitude_of_origin\\\",0],PARAMETER[\\\"central_meridian\\\",-9],PARAMETER[\\\"scale_factor\\\",0.9996],PARAMETER[\\\"false_easting\\\",500000],PARAMETER[\\\"false_northing\\\",0],UNIT[\\\"metre\\\",1,AUTHORITY[\\\"EPSG\\\",\\\"9001\\\"]],AXIS[\\\"Easting\\\",EAST],AXIS[\\\"Northing\\\",NORTH],AUTHORITY[\\\"EPSG\\\",\\\"32629\\\"]]\",\n            \"raster:bands\": [\n                {\n                    \"data_type\": \"uint16\",\n                    \"scale\": 1.0,\n                    \"offset\": 0.0,\n                    \"sampling\": \"area\",\n                    \"nodata\": 0.0,\n                    \"statistics\": {\n                        \"mean\": 3756.1745382397535,\n                        \"minimum\": 1151,\n                        \"maximum\": 7859,\n                        \"stddev\": 422.8205914467619,\n                        \"valid_percent\": 100.0\n                    },\n                    \"histogram\": {\n                        \"count\": 11,\n                        \"min\": 1151.0,\n                        \"max\": 7859.0,\n                        \"buckets\": [\n                            1033,\n                            2515,\n                            13318,\n                            159276,\n                            117130,\n                            6978,\n                            687,\n                            244,\n                            159,\n                            61\n                        ]\n                    }\n                }\n            ],\n            \"eo:bands\": [\n                {\n                    \"name\": \"b1\",\n                    \"description\": \"gray\"\n                }\n            ]\n        },\n        \"B04\": {\n            \"href\": \"./data/B04.tif\",\n            \"type\": \"image/tiff; application=geotiff; profile=cloud-optimized\",\n            \"proj:epsg\": 32629,\n            \"proj:geometry\": {\n                \"type\": \"Polygon\",\n                \"coordinates\": [\n                    [\n                        [\n                            199980.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2690220.0\n                        ]\n                    ]\n                ]\n            },\n            \"proj:bbox\": [\n                199980.0,\n                2690220.0,\n                309780.0,\n                2800020.0\n            ],\n            \"proj:shape\": [\n                549,\n                549\n            ],\n            \"proj:transform\": [\n                200.0,\n                0.0,\n                199980.0,\n                0.0,\n                -200.0,\n                2800020.0,\n                0.0,\n                0.0,\n                1.0\n            ],\n            \"proj:projjson\": {\n                \"$schema\": \"https://proj.org/schemas/v0.4/projjson.schema.json\",\n                \"type\": \"ProjectedCRS\",\n                \"name\": \"WGS 84 / UTM zone 29N\",\n                \"base_crs\": {\n                    \"name\": \"WGS 84\",\n                    \"datum\": {\n                        \"type\": \"GeodeticReferenceFrame\",\n                        \"name\": \"World Geodetic System 1984\",\n                        \"ellipsoid\": {\n                            \"name\": \"WGS 84\",\n                            \"semi_major_axis\": 6378137,\n                            \"inverse_flattening\": 298.257223563\n                        }\n                    },\n                    \"coordinate_system\": {\n                        \"subtype\": \"ellipsoidal\",\n                        \"axis\": [\n                            {\n                                \"name\": \"Geodetic latitude\",\n                                \"abbreviation\": \"Lat\",\n                                \"direction\": \"north\",\n                                \"unit\": \"degree\"\n                            },\n                            {\n                                \"name\": \"Geodetic longitude\",\n                                \"abbreviation\": \"Lon\",\n                                \"direction\": \"east\",\n                                \"unit\": \"degree\"\n                            }\n                        ]\n                    },\n                    \"id\": {\n                        \"authority\": \"EPSG\",\n                        \"code\": 4326\n                    }\n                },\n                \"conversion\": {\n                    \"name\": \"UTM zone 29N\",\n                    \"method\": {\n                        \"name\": \"Transverse Mercator\",\n                        \"id\": {\n                            \"authority\": \"EPSG\",\n                            \"code\": 9807\n                        }\n                    },\n                    \"parameters\": [\n                        {\n                            \"name\": \"Latitude of natural origin\",\n                            \"value\": 0,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8801\n                            }\n                        },\n                        {\n                            \"name\": \"Longitude of natural origin\",\n                            \"value\": -9,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8802\n                            }\n                        },\n                        {\n                            \"name\": \"Scale factor at natural origin\",\n                            \"value\": 0.9996,\n                            \"unit\": \"unity\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8805\n                            }\n                        },\n                        {\n                            \"name\": \"False easting\",\n                            \"value\": 500000,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8806\n                            }\n                        },\n                        {\n                            \"name\": \"False northing\",\n                            \"value\": 0,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8807\n                            }\n                        }\n                    ]\n                },\n                \"coordinate_system\": {\n                    \"subtype\": \"Cartesian\",\n                    \"axis\": [\n                        {\n                            \"name\": \"Easting\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"east\",\n                            \"unit\": \"metre\"\n                        },\n                        {\n                            \"name\": \"Northing\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"north\",\n                            \"unit\": \"metre\"\n                        }\n                    ]\n                },\n                \"id\": {\n                    \"authority\": \"EPSG\",\n                    \"code\": 32629\n                }\n            },\n            \"proj:wkt2\": \"PROJCS[\\\"WGS 84 / UTM zone 29N\\\",GEOGCS[\\\"WGS 84\\\",DATUM[\\\"WGS_1984\\\",SPHEROID[\\\"WGS 84\\\",6378137,298.257223563,AUTHORITY[\\\"EPSG\\\",\\\"7030\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"6326\\\"]],PRIMEM[\\\"Greenwich\\\",0,AUTHORITY[\\\"EPSG\\\",\\\"8901\\\"]],UNIT[\\\"degree\\\",0.0174532925199433,AUTHORITY[\\\"EPSG\\\",\\\"9122\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"4326\\\"]],PROJECTION[\\\"Transverse_Mercator\\\"],PARAMETER[\\\"latitude_of_origin\\\",0],PARAMETER[\\\"central_meridian\\\",-9],PARAMETER[\\\"scale_factor\\\",0.9996],PARAMETER[\\\"false_easting\\\",500000],PARAMETER[\\\"false_northing\\\",0],UNIT[\\\"metre\\\",1,AUTHORITY[\\\"EPSG\\\",\\\"9001\\\"]],AXIS[\\\"Easting\\\",EAST],AXIS[\\\"Northing\\\",NORTH],AUTHORITY[\\\"EPSG\\\",\\\"32629\\\"]]\",\n            \"raster:bands\": [\n                {\n                    \"data_type\": \"uint16\",\n                    \"scale\": 1.0,\n                    \"offset\": 0.0,\n                    \"sampling\": \"area\",\n                    \"nodata\": 0.0,\n                    \"statistics\": {\n                        \"mean\": 3815.5430970700163,\n                        \"minimum\": 1164,\n                        \"maximum\": 7793,\n                        \"stddev\": 425.60416042616544,\n                        \"valid_percent\": 100.0\n                    },\n                    \"histogram\": {\n                        \"count\": 11,\n                        \"min\": 1164.0,\n                        \"max\": 7793.0,\n                        \"buckets\": [\n                            915,\n                            2315,\n                            10676,\n                            132912,\n                            142978,\n                            10115,\n                            997,\n                            266,\n                            165,\n                            62\n                        ]\n                    }\n                }\n            ],\n            \"eo:bands\": [\n                {\n                    \"name\": \"b1\",\n                    \"description\": \"gray\"\n                }\n            ]\n        },\n        \"B05\": {\n            \"href\": \"./data/B05.tif\",\n            \"type\": \"image/tiff; application=geotiff; profile=cloud-optimized\",\n            \"proj:epsg\": 32629,\n            \"proj:geometry\": {\n                \"type\": \"Polygon\",\n                \"coordinates\": [\n                    [\n                        [\n                            199980.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2690220.0\n                        ]\n                    ]\n                ]\n            },\n            \"proj:bbox\": [\n                199980.0,\n                2690220.0,\n                309780.0,\n                2800020.0\n            ],\n            \"proj:shape\": [\n                549,\n                549\n            ],\n            \"proj:transform\": [\n                200.0,\n                0.0,\n                199980.0,\n                0.0,\n                -200.0,\n                2800020.0,\n                0.0,\n                0.0,\n                1.0\n            ],\n            \"proj:projjson\": {\n                \"$schema\": \"https://proj.org/schemas/v0.4/projjson.schema.json\",\n                \"type\": \"ProjectedCRS\",\n                \"name\": \"WGS 84 / UTM zone 29N\",\n                \"base_crs\": {\n                    \"name\": \"WGS 84\",\n                    \"datum\": {\n                        \"type\": \"GeodeticReferenceFrame\",\n                        \"name\": \"World Geodetic System 1984\",\n                        \"ellipsoid\": {\n                            \"name\": \"WGS 84\",\n                            \"semi_major_axis\": 6378137,\n                            \"inverse_flattening\": 298.257223563\n                        }\n                    },\n                    \"coordinate_system\": {\n                        \"subtype\": \"ellipsoidal\",\n                        \"axis\": [\n                            {\n                                \"name\": \"Geodetic latitude\",\n                                \"abbreviation\": \"Lat\",\n                                \"direction\": \"north\",\n                                \"unit\": \"degree\"\n                            },\n                            {\n                                \"name\": \"Geodetic longitude\",\n                                \"abbreviation\": \"Lon\",\n                                \"direction\": \"east\",\n                                \"unit\": \"degree\"\n                            }\n                        ]\n                    },\n                    \"id\": {\n                        \"authority\": \"EPSG\",\n                        \"code\": 4326\n                    }\n                },\n                \"conversion\": {\n                    \"name\": \"UTM zone 29N\",\n                    \"method\": {\n                        \"name\": \"Transverse Mercator\",\n                        \"id\": {\n                            \"authority\": \"EPSG\",\n                            \"code\": 9807\n                        }\n                    },\n                    \"parameters\": [\n                        {\n                            \"name\": \"Latitude of natural origin\",\n                            \"value\": 0,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8801\n                            }\n                        },\n                        {\n                            \"name\": \"Longitude of natural origin\",\n                            \"value\": -9,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8802\n                            }\n                        },\n                        {\n                            \"name\": \"Scale factor at natural origin\",\n                            \"value\": 0.9996,\n                            \"unit\": \"unity\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8805\n                            }\n                        },\n                        {\n                            \"name\": \"False easting\",\n                            \"value\": 500000,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8806\n                            }\n                        },\n                        {\n                            \"name\": \"False northing\",\n                            \"value\": 0,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8807\n                            }\n                        }\n                    ]\n                },\n                \"coordinate_system\": {\n                    \"subtype\": \"Cartesian\",\n                    \"axis\": [\n                        {\n                            \"name\": \"Easting\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"east\",\n                            \"unit\": \"metre\"\n                        },\n                        {\n                            \"name\": \"Northing\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"north\",\n                            \"unit\": \"metre\"\n                        }\n                    ]\n                },\n                \"id\": {\n                    \"authority\": \"EPSG\",\n                    \"code\": 32629\n                }\n            },\n            \"proj:wkt2\": \"PROJCS[\\\"WGS 84 / UTM zone 29N\\\",GEOGCS[\\\"WGS 84\\\",DATUM[\\\"WGS_1984\\\",SPHEROID[\\\"WGS 84\\\",6378137,298.257223563,AUTHORITY[\\\"EPSG\\\",\\\"7030\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"6326\\\"]],PRIMEM[\\\"Greenwich\\\",0,AUTHORITY[\\\"EPSG\\\",\\\"8901\\\"]],UNIT[\\\"degree\\\",0.0174532925199433,AUTHORITY[\\\"EPSG\\\",\\\"9122\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"4326\\\"]],PROJECTION[\\\"Transverse_Mercator\\\"],PARAMETER[\\\"latitude_of_origin\\\",0],PARAMETER[\\\"central_meridian\\\",-9],PARAMETER[\\\"scale_factor\\\",0.9996],PARAMETER[\\\"false_easting\\\",500000],PARAMETER[\\\"false_northing\\\",0],UNIT[\\\"metre\\\",1,AUTHORITY[\\\"EPSG\\\",\\\"9001\\\"]],AXIS[\\\"Easting\\\",EAST],AXIS[\\\"Northing\\\",NORTH],AUTHORITY[\\\"EPSG\\\",\\\"32629\\\"]]\",\n            \"raster:bands\": [\n                {\n                    \"data_type\": \"uint16\",\n                    \"scale\": 1.0,\n                    \"offset\": 0.0,\n                    \"sampling\": \"area\",\n                    \"nodata\": 0.0,\n                    \"statistics\": {\n                        \"mean\": 3825.699888188825,\n                        \"minimum\": 1140,\n                        \"maximum\": 7808,\n                        \"stddev\": 431.14276343286804,\n                        \"valid_percent\": 100.0\n                    },\n                    \"histogram\": {\n                        \"count\": 11,\n                        \"min\": 1140.0,\n                        \"max\": 7808.0,\n                        \"buckets\": [\n                            819,\n                            2294,\n                            10344,\n                            127145,\n                            147857,\n                            11167,\n                            1259,\n                            287,\n                            169,\n                            60\n                        ]\n                    }\n                }\n            ],\n            \"eo:bands\": [\n                {\n                    \"name\": \"b1\",\n                    \"description\": \"gray\"\n                }\n            ]\n        }\n    },\n    \"bbox\": [\n        -11.979244865430262,\n        24.296321392464336,\n        -10.874546803397616,\n        25.304623891542274\n    ],\n    \"stac_extensions\": [\n        \"https://stac-extensions.github.io/projection/v1.1.0/schema.json\",\n        \"https://stac-extensions.github.io/raster/v1.1.0/schema.json\",\n        \"https://stac-extensions.github.io/eo/v1.1.0/schema.json\"\n    ]\n}\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"}]}